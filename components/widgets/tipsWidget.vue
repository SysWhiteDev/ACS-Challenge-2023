<template>
  <div class="widget">
    <p class="ttitle">Tips to reduce environmental impact ðŸ’¡</p>
    <div>
      <p class="cycling-text" >{{ cyclingText }}</p>
    </div>
  </div>
</template>

<script>

let tip = ['Guida a una velocitÃ  costante ed evita frenate brusche.', 'Fahre mit konstanter Geschwindigkeit und vermeide abruptes Bremsen.', 'Spegni il motore quando rimani fermo per piÃ¹ di un minuto.', 'Schalte den Motor aus, wenn du lÃ¤nger als eine Minute im Leerlauf stehst.', 'Controlla regolarmente la pressione degli pneumatici.', 'ÃœberprÃ¼fe regelmÃ¤ÃŸig den Reifendruck.', 'Pianifica gli spostamenti in modo efficiente per ridurre il chilometraggio.', 'Plane deine Fahrten effizient, um die Kilometerleistung zu minimieren.', 'Evita gli ingorghi nelle ore di punta, se possibile.', 'Vermeide den Berufsverkehr, wenn mÃ¶glich.', 'Considera il carpooling o il ridesharing.', 'ErwÃ¤ge Fahrgemeinschaften oder Mitfahrgelegenheiten.']

async function loadJSON (url) {
  const res = await fetch(url);
  return await res.json()
}
loadJSON('~/tips.json').then(data => {let tips = data})

export default {
  data() {
    return {
      cyclingText: 'Guida a una velocitÃ  costante ed evita frenate brusche.'
    };
  },
  mounted() {
    setInterval(() => {
      this.cycleText();
    }, 600);
  },
  methods: {
    cycleText() {
      const texts = tips;
      const currentIndex = texts.indexOf(this.cyclingText);
      this.cyclingText = texts[(currentIndex + 1) % texts.length];
    }
  }
};
</script>

<style scoped>

.cycling-text {
  text-align: center;
  font-size: larger;
  margin-top: 30%;
  margin-bottom: 40%;
}

</style>
